<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="color-scheme" content="dark light" />
  <title>One Xahau — XAH</title>
  <meta name="description" content="expermental tools + Dex Culture on Xahau" />

  <link rel="stylesheet" href="./styles.css" />
  <link rel="icon" type="image/png" href="./onyx-favicon.png" />
</head>

<body>
  <noscript>
    <div style="padding:12px;max-width:980px;margin:12px auto;border:1px solid rgba(255,255,255,.15);border-radius:12px;">
      This site needs JavaScript enabled to load token data and the live feed.
    </div>
  </noscript>

  <div id="emojiField" aria-hidden="true"></div>
  <div id="loadBarWrap" class="loadBarWrap" aria-live="polite" aria-hidden="true">
    <div id="loadBar" class="loadBar"></div>
    <div id="loadBarText" class="loadBarText">Loading rich list...</div>
  </div>

  <div class="wrap">
    <header>
      <div class="brand" role="banner">
        <a class="logo" id="brandLogoLink" href="#" title="Go to ONE token">
          <span class="hoverable" id="brandEmoji" aria-label="Brand emoji"></span>
        </a>
        <div class="titles">
          <div class="top">One Xahau</div>

          <div class="sub" id="brandSub">expermental tools + Dex Culture on Xahau</div>

        </div>
      </div>

      <div class="rightHeader">
        <div class="tokenPicker">
          <div class="tokenPickerLabel" id="tokenPickerLabel">Token</div>
          <select id="tokenSelect" aria-labelledby="tokenPickerLabel" aria-label="Select token"></select>
        </div>

        <nav class="links" aria-label="Primary">
          <a class="btn primary" id="btnExplorer" href="#" target="_blank" rel="noreferrer">
            <span class="dot"></span> Explorer
          </a>
          <a class="btn" id="btnX" href="#" target="_blank" rel="noreferrer">X (Twitter)</a>
          <a class="btn" href="#richlist">Rich List</a>
        </nav>
      </div>
    </header>

    <section class="hero" aria-label="Token overview">
      <div class="heroGrid">
        <div>
          <h1>
            <span class="emojiBig hoverable" id="heroEmoji" aria-label="Token emoji"></span>
            <span id="heroName">100</span>
          </h1>
          <p id="heroDesc">Loading…</p>

          <div class="pillRow" id="pillRow"></div>

          <div class="ctaRow">
            <a class="btn primary" href="#richlist"><span class="dot"></span> View Rich List</a>
            <a class="btn" id="btnTokenDetails" href="#whitepaperPanel">Token Details</a>
            <a class="btn ctaFocus" id="btnTrustline" href="#" target="_blank" rel="noreferrer">Add Trustline</a>
            <a class="btn ctaFocus" id="btnTrade" href="#" target="_blank" rel="noreferrer">Trade on XMagnetic</a>
          </div>

          <div class="xahToolsRow" id="xahToolsRow" style="display:none">
            <div class="xahToolCard" id="xahImportCard">
              <a class="btn ctaFocus" id="btnXahImport" href="#" target="_blank" rel="noreferrer">Xahau Import</a>
              <div class="xahToolSub" id="xahImportSub">Get <b>2 free XAH</b> and import your existing XRPL account.</div>
            </div>
            <div class="xahToolCard" id="xahBitrueCard">
              <a class="btn ctaFocus" id="btnBitrueTrade" href="#" target="_blank" rel="noreferrer">Trade on Bitrue</a>
              <div class="xahToolSub" id="xahBitrueSub">Access Xahau's liquidity trading XAH/USDT on Bitrue.</div>
            </div>
            <div class="xahToolCard" id="xahTeleportCard">
              <a class="btn ctaFocus" id="btnXahTeleport" href="#" target="_blank" rel="noreferrer">XAH Teleport</a>
              <div class="xahToolSub" id="xahTeleportSub">Converts XAH (IOU) on the XRPL to XAH on Xahau.</div>
            </div>
          </div>
        </div>

        <aside class="cardRight" aria-label="Key stats">
          <div>
            <div class="accentLine"></div>
            <div class="statGrid">
              <div class="stat">
                <div class="k">Total Supply</div>
                <div class="v statSupplyRow"><small id="statEmoji"></small> <span id="statSupply">—</span></div>
              </div>
              <div class="stat">
                <div class="k" id="statClubLabel">1% Club</div>
                <div class="v"><span id="onePercentCount">—</span> <small>holders</small></div>
              </div>
              <div class="stat">
                <div class="k">Top Holder</div>
                <div class="v"><span id="topHolderPct">—</span><small>%</small></div>
              </div>
              <div class="stat">
                <div class="k">Price (USD)</div>
                <div class="v smallv"><span id="statPriceUsd">—</span></div>
              </div>
              <div class="stat" id="statLedgerCard" style="display:none">
                <div class="k">Ledger Index</div>
                <div class="v smallv"><span id="statLedgerIndex">—</span></div>
              </div>
              <div class="stat" id="statVersionCard" style="display:none">
                <div class="k">Node Version</div>
                <div class="v smallv"><span id="statNodeVersion">—</span></div>
              </div>
            </div>
          </div>

          <div class="cardHint" id="cardHint">
            <b>Badges:</b> Top 3 (&#x1F947;&#x1F948;&#x1F949;), last holder (&#x2764;&#xFE0F;), 1% Club tiers (&#x1F7E2;&#x1F40B;&#x1F5A4;), DEX Culture (&#x1F535;), Exact One (&#x1F3AF;).
          </div>
        </aside>
      </div>
    </section>

    <section class="panel" id="whitepaperPanel" aria-label="White paper">
      <div class="panelHead">
        <h2>White Paper</h2>
        <div class="meta"><span id="whitepaperMeta">overview</span></div>
      </div>
      <div class="panelBody">
        <div class="miniNote" id="whitepaperSummary">Token overview and docs.</div>
        <div class="ctaRow">
          <a class="btn" id="btnWhitepaper" href="#" target="_blank" rel="noreferrer">Read White Paper</a>
          <a class="btn" id="btnTokenExplorer" href="#" target="_blank" rel="noreferrer">Explorer</a>
          
        </div>
      </div>
    </section>

    <section class="grid2" aria-label="Analytics panels">
      <div class="panel">
        <div class="panelHead">
          <h2>Supply Breakdown</h2>
          <div class="meta"><span id="supplyMeta">—</span></div>
        </div>
        <div class="panelBody">
          <div class="bucketList" id="bucketList"></div>
          <div class="miniNote">Compares circulating supply vs large whale holders vs small holders.</div>
        </div>
      </div>

      <div class="panel">
        <div class="panelHead">
          <h2>Liquidity Tracker</h2>
          <div class="meta"><span id="liqMeta">—</span></div>
        </div>
        <div class="panelBody">
          <div class="bigScore">
            <div class="scoreNum" id="liqScore">—</div>
            <div class="scoreSub" id="liqSpread">—</div>
          </div>
          <div class="barWrap" aria-label="Liquidity score bar">
            <div class="barFill" id="liqBar" style="width:0%"></div>
          </div>
          <div class="metricRow" id="liqDepthRow"></div>
          <div class="miniNote" id="liqNote">Live depth from on-ledger order book (book_offers), +/-1% around mid.</div>
        </div>
      </div>

      <div class="panel">
        <div class="panelHead">
          <h2>Decentralization Score</h2>
          <div class="meta"><span class="hoverable" id="panelEmojiDecent" aria-hidden="true"></span></div>
        </div>
        <div class="panelBody">
          <div class="bigScore">
            <div class="scoreNum" id="decentScore">—</div>
            <div class="scoreSub" id="decentExplain">—</div>
          </div>
          <div class="barWrap" aria-label="Decentralization bar">
            <div class="barFill" id="decentBar" style="width:0%"></div>
          </div>
          <div class="miniNote">Abstract Onyx metric: higher = more distributed.</div>
        </div>
      </div>

      <div class="panel">
        <div class="panelHead">
          <h2>Whale Dominance</h2>
          <div class="meta"><span id="whaleMeta">—</span> <button class="chip" id="xahStatsUpdateBtn" type="button" style="display:none;padding:4px 8px;font-size:11px;line-height:1">Update</button></div>
        </div>
        <div class="panelBody">
          <div class="metricRow" id="whaleRow"></div>
          <div class="miniNote">Top wallets concentration (by % of supply).</div>
        </div>
      </div>
      <div class="panel">
        <div class="panelHead">
          <h2>Challenges & Badges</h2>
          <div class="meta"><span id="badgeMeta">—</span></div>
        </div>
        <div class="panelBody">
          <div class="badgeCards" id="badgeCards"></div>
          <div class="miniNote">Currently computed live from ledger state. Future: mint these as NFTs.</div>
        </div>
      </div>

      <div class="panel" id="dexChartPanel">
        <div class="panelHead">
          <h2>DEX Price Chart</h2>
          <div class="meta">
            <button class="chip active" id="dexRange7d" type="button">7D</button>
            <button class="chip" id="dexRange30d" type="button">30D</button>
            <button class="chip" id="dexRange3m" type="button">3M</button>
            <button class="chip" id="dexRange6m" type="button">6M</button>
            <button class="chip" id="dexRange1y" type="button">1Y</button>
            <span id="dexChartPair" class="mono">PAIR/XAH</span>
            <span id="dexChartMeta">loading</span>
          </div>
        </div>
        <div class="panelBody">
          <div class="chartRow">
            <div class="chartWrap">
              <svg id="dexChart" viewBox="0 0 100 100" preserveAspectRatio="none" aria-label="DEX mid price chart">
                <g id="dexChartGrid"></g>
                <g id="dexChartCandles"></g>
              </svg>
              <div id="dexChartEmpty" class="chartEmpty">Loading chart...</div>
            </div>
            <div id="dexChartAxis" class="chartAxis" aria-hidden="true"></div>
          </div>
          <div class="chartStats">
            <div><span class="mono">Low:</span> <span id="dexChartLow">—</span></div>
            <div><span class="mono">High:</span> <span id="dexChartHigh">—</span></div>
            <div><span class="mono">Last:</span> <span id="dexChartLast">—</span></div>
            <div><span class="mono">Change:</span> <span id="dexChartChange">—</span></div>
            <div><span class="mono">Range:</span> <span id="dexChartRange">—</span></div>
          </div>
          <div class="miniNote">Historical DEX candles from Xahau Data API (market_data). Values shown in USD via current XAH/USD.</div>
        </div>
      </div>
    </section>

    <section class="panel" id="feed" aria-label="Live activity feed">
      <div class="panelHead">
        <h2>Live Activity Feed</h2>
        <div class="meta">
          <span id="feedStatus" aria-live="polite">connecting...</span>
          <span aria-hidden="true">|</span>
          <span class="hoverable" id="panelEmojiFeed" aria-hidden="true"></span>
        </div>
      </div>
      <div class="panelBody">
        <div class="feedControls">
          <div class="miniNote">BUY/SELL is computed from trustline balance deltas in transaction meta (no backend).</div>
          <button class="chip" id="feedReconnect" type="button">Reconnect</button>
        </div>

        <div class="feedList" id="feedList"></div>
      </div>
    </section>

    <section class="panel" id="richlist" aria-label="Rich list table">
      <div class="panelHead">
        <h2>Rich List</h2>
        <div class="meta">
          <span id="dataStatus" aria-live="polite">loading...</span>
          <span aria-hidden="true">|</span>
          <span class="hoverable" id="panelEmojiRich" aria-hidden="true"></span>
        </div>
      </div>

      <div class="panelBody">
        <div class="treasuryPane" id="treasuryPane" style="display:none" aria-label="Project treasury wallets">
          <div class="treasuryHead">
            <h3>Project Treasury Wallets</h3>
            <span class="meta" id="treasuryMeta"></span>
          </div>
          <div class="treasuryList" id="treasuryList"></div>
        </div>

        <div class="controls">
          <div class="search">
            <input id="search" type="search" placeholder="Search address (r...)" autocomplete="off" aria-label="Search address" />
          </div>

          <div class="toggleRow" role="tablist" aria-label="Filters">
            <div class="chip active" data-filter="all" role="tab" aria-selected="true">All</div>
            <div class="chip" data-filter="club" role="tab" aria-selected="false">1% Club</div>
            <div class="chip" data-filter="top3" role="tab" aria-selected="false">Top 3</div>
            <div class="chip" data-filter="last" role="tab" aria-selected="false">Last</div>
            <button class="chip" id="loadAllBtn" type="button">Load All</button>
            <button class="chip" id="clearCacheBtn" type="button">Clear Cache</button>
            <button class="chip" id="xahLoadRichlistBtn" type="button" style="display:none">Load XAH Rich List</button>
            <div class="chip" id="refreshBtn" role="button" tabindex="0">Refresh</div>
          </div>
        </div>

        <div class="tableWrap">
          <table>
            <thead>
              <tr>
                <th class="w-rank">Rank</th>
                <th>Address</th>
                <th class="w-bal">Balance</th>
                <th class="w-pct">% Supply</th>
                <th class="w-badges">Badges</th>
              </tr>
            </thead>
            <tbody id="rows"></tbody>
          </table>
        </div>

        <div class="foot">
          <div>
            Token:
            <a id="footExplorer" href="#" target="_blank" rel="noreferrer">Explorer</a>
            • Social:
            <a id="footX" href="#" target="_blank" rel="noreferrer">X</a>
          </div>
          <div><span class="mono">Onyx</span> • experimental</div>
          <div>
            Dev credits:
            <a href="https://x.com/Onyxaha" target="_blank" rel="noreferrer">@Onyxaha</a>
          </div>
          <div>
            Tip consideration:
            <span class="mono">roNyxrByzJfe7JfhuarRHHDUQsHWZxNAL</span>
          </div>
        </div>
      </div>
    </section>
  </div>

  <div id="toast" role="status" aria-live="polite"></div>

  <!-- Defer so HTML paints first -->
  <script src="./tokens.js" defer></script>
  <script src="./app.js" defer></script>
</body>
</html>

